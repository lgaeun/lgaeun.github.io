---
title: "ğŸŒ€ TS strict ì ìš©í•˜ê¸°"
date: 2022-03-24 10:35:23 +0900
categories: [TIL]
tags: [typescript]
---

# Prerequisite

tsconfig.json
```ts
"strict": true
```

![related](/assets/img/posts/2022-03-24/1.png){: w="200" h="300"}


ìš”ëŸ° family optionë“¤ ëª¨ë‘ì— ëŒ€í•´ ê°•í•œ íƒ€ì… ì²´í¬ë¥¼ í•´ì£¼ëŠ” ì˜µì…˜ì´ë‹¤.

# 1. Null íƒ€ì… ì˜¤ë¥˜ ë° í•¨ìˆ˜ íƒ€ì… ì˜¤ë¥˜ í•´ê²°

## Strict Null Check

```jsx
function initEvents() {
  rankList.addEventListener('click', handleListClick);
}
```

rankListì— ëŒ€í•œ null checkê°€ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ initEvents í•¨ìˆ˜ ìµœìƒë‹¨ì— ë‹¤ìŒê³¼ ê°™ì€ Null checkë¥¼ ë„£ì–´ì¤Œìœ¼ë¡œì¨ í•´ê²°í•œë‹¤.

```jsx
 if (!rankList) {
    return;
  }
```

## Strict Function Type Check

functionì˜ argument typeì— ëŒ€í•´ì„œë„ ì •í™•í•˜ê²Œ ë§ì¶°ì£¼ì–´ì•¼ í•œë‹¤. ë¬¼ë¡  tsconfig.jsonì—ì„œ â€˜strictFunctionTypes:falseâ€™ë¥¼ í•˜ë©° ì—ëŸ¬ê°€ ì‚¬ë¼ì§€ê¸´ í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ handleClickì´ë€ í•¨ìˆ˜ê°€ ìˆê³ , ì´ê±¸ somethingì— addEventListenerë¡œ ì¶”ê°€í•˜ë ¤ê³  í•  ë•Œ  ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 

```jsx
something.addEventListener('click', handleClick)

async function handleClick(event: MouseEvent) {
//...
}
```

ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì°¨ê·¼ì°¨ê·¼ ì½ì–´ë³´ë©´ ë§¨ ëì— ì´ëŸ° ë¬¸êµ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°

![error](/assets/img/posts/2022-03-24/2.png){: w="500" h="400"}

eventì˜ Typeì´ MouseClickì¸ë° addEventListenerì˜ ì½œë°±ì˜ íŒŒë¼ë¯¸í„° íƒ€ì…ì´ë‘ í˜¸í™˜ì´ ë¶ˆê°€ëŠ¥í•´ì„œ ê·¸ë ‡ë‹¨ë‹¤. íƒ€ì…ì„ MouseEvent â†’ Eventë¡œ ë°”ê¿”ì£¼ë©´ ëœë‹¤.

ì—¬ê¸°ì„œ ë°°ìš´ì : êµ¬ê¸€ë§ì„ ì˜ í•˜ê¸° ì „ì— ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ì˜ í™•ì¸í•˜ì. êµ¬ê¸€ë§ì˜ ì§ˆì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.

# 2. á„á…¡á„‹á…µá†¸á„‰á…³á„á…³á„…á…µá†¸á„á…³ á„‚á…¢á„Œá…¡á†¼ á„á…¡á„‹á…µá†¸á„‹á…´ á„‹á…±á„€á…¨ á„€á…®á„Œá…©
DOM Element íƒ€ì… í˜¸í™˜ ê´€ë ¨í•´ì„œ ì•Œê³  ìˆìœ¼ë©´ ìœ ìš©í•  ê²ƒ ê°™ë‹¤.
```ts
// hierarchy: a > b > c ìˆœìœ¼ë¡œ ë†’ë‹¤.
const a: Element;
const b: HTMLElement;
const c: HTMLDivElement;
// hierarchy: ev1 > ev2 > ev3 ìˆœìœ¼ë¡œ ë†’ë‹¤.
const ev1: Event;
const ev2: UIEvent;
const ev3: MouseEvent;
```

# 3. íƒ€ì… ë‹¨ì–¸ì„ ì´ìš©í•œ íƒ€ì… ì—ëŸ¬ í•´ê²°
```ts
recoveredList!.appendChild(li);
```
recoveredList ì˜¤ë¸Œì íŠ¸ê°€ possibly nullì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë‚˜íƒ€ë‚˜ëŠ”ë° ì´ë•Œ '!'ë¥¼ ë’¤ì— ë¶™ì—¬ì„œ non-nullì„ì„ ëª…ì‹œí•´ í•´ê²°í•´ë³¼ ìˆ˜ ìˆë‹¤.  
ì´ëŸ° íƒ€ì… ë‹¨ì–¸ ì‹œ ì£¼ì˜ì ì´ ìˆëŠ”ë°
```ts
interface Food{
  type: string;
  price: number;
}

// type annotation
const sushi: Food = {
  type: Japanese;
  price: 18000;
}

// type assertion
const chicken = {} as Food;
```
íƒ€ì… ë‹¨ì–¸ì˜ ê²½ìš° íƒ€ì… ì—ëŸ¬ê°€ ëœ¨ì§€ëŠ” ì•Šì§€ë§Œ ì´í›„ì— ì´ˆê¸°ê°’ì„ ì •í•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆë‹¤.


# 4. ì˜µì…”ë„ ì²´ì´ë‹ ì—°ì‚°ì

1ë²ˆì—ì„œì²˜ëŸ¼ possible null íƒ€ì…ì— ëŒ€í•´ ë§¤ë²ˆ ì²´í¬í•´ì¤˜ë„ ë˜ì§€ë§Œ ë²ˆê±°ë¡œìš°ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ optional chainigì„ ì“°ë©´ ë” ê°„ê²°í•˜ë‹¤.
```ts
recoveredList?.appendChild(li);
```
# 5. DOM ìœ í‹¸ í•¨ìˆ˜ í™œìš©ì„±ì„ ë†’ì´ëŠ” íƒ€ì… ì •ì˜
ì´ì „ê¹Œì§€ëŠ” ìœ í‹¸í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì •ì˜ í•´ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤.
```ts
//util
function $(selector: string) {
  return document.querySelector(selector);
}
// DOM
const confirmedTotal = $('.confirmed-total') as HTMLSpanElement;
```
ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•˜ë©´ ë” ê°„ê²°í•´ì§ˆ ìˆ˜ ìˆê³ , ë””í´íŠ¸ê°’ì„ ì •ì˜í•¨ìœ¼ë¡œì¨ ë” ë¹ ë¥¸ ê°„ê²°í•œ íƒ€ì… ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ë‹¤.
```ts
//util - using generic
function $<T extends HTMLElement = HTMLDivElement>(selector: string) {
  const element = document.querySelector(selector);
  return element as T; // ë¦¬í„´ íƒ€ì…ì—ì„œ Null ì—†ì• ê¸°
}
// DOM
const confirmedTotal = $<HTMLSpanElement>('.confirmed-total');
```  

ê°•ì˜ ë!

------
reference.

[https://www.typescriptlang.org/tsconfig#strict](https://www.typescriptlang.org/tsconfig#strict)

> [TSê°•ì˜](https://www.inflearn.com/course/%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%8B%A4%EC%A0%84/dashboard)ë¥¼ ë“¤ìœ¼ë©° ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.
